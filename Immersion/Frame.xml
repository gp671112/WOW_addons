<Ui xmlns="http://www.blizzard.com/wow/ui/" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.blizzard.com/wow/ui/
..\FrameXML\UI.xsd">
	
	<Frame name="ImmersionFrame" parent="UIParent" hidden="true">
		<Frames>
			<Frame parentKey="TitleButtons" useParentLevel="true">
				<Size x="300" y="0"/>
				<Scripts>
					<OnLoad>
						self.Buttons = {};
						self.Active = {};
						self.idx = 1;
					</OnLoad>
				</Scripts>
			</Frame>
			<Button parentKey="TalkBox" toplevel="true" frameStrata="HIGH" frameLevel="1">
				<Size x="570" y="155"/>
				<Anchors>
					<Anchor point="BOTTOM" relativeKey="$parent.$parent" relativePoint="BOTTOM" x="0" y="150"/>
				</Anchors>
				<Frames>
					<Frame parentKey="Hilite" useParentLevel="true" alpha="0.01">
						<Anchors>
							<Anchor point="TOPLEFT" x="8" y="-8"/>
							<Anchor point="BOTTOMRIGHT" x="-8" y="8"/>
						</Anchors>
					</Frame>
					<Frame parentKey="Elements" useParentLevel="true">
						<Size x="570" y="0"/>
						<Anchors>
							<Anchor point="TOP" relativeKey="$parent" relativePoint="BOTTOM" x="0" y="8"/>
						</Anchors>
						<Scripts>
							<OnLoad>
								self.Active = {}
							</OnLoad>
						</Scripts>
						<Frames>
							<Frame parentKey="Content" setAllPoints="true"/>
							<Frame parentKey="Progress" hidden="true">
								<Size x="300" y="403"/>
								<Anchors>
									<Anchor point="TOPLEFT" x="32" y="-32"/>
								</Anchors>
								<Scripts>
									<OnLoad>
										self.Items = {					
											QuestProgressItem1,
											QuestProgressItem2,
											QuestProgressItem3,
											QuestProgressItem4,
											QuestProgressItem5,
											QuestProgressItem6,
										}

										self.TitleText = QuestProgressTitleText;
										self.TitleText:ClearAllPoints();
										self.TitleText:Hide();
										self.TitleText:SetParent(self);

										self.ProgressText = QuestProgressText;
										self.ProgressText:ClearAllPoints();
										self.ProgressText:Hide();
										self.ProgressText:SetParent(self);

										self.ReqText = QuestProgressRequiredItemsText;
										self.ReqText:ClearAllPoints();
										self.ReqText:SetParent(self);
										self.ReqText:SetPoint("TOPLEFT", 0, 0);

										self.MoneyText = QuestProgressRequiredMoneyText;
										self.MoneyText:SetParent(self);

										self.MoneyFrame = QuestProgressRequiredMoneyFrame;
										self.MoneyFrame:SetParent(self);

										for i, item in pairs(self.Items) do
											self["Item" .. i] = item;
											item:SetParent(self);
										end

									</OnLoad>
								</Scripts>
							</Frame>
						</Frames>
					</Frame>
					<Frame parentKey="NameFrame" setAllPoints="true" useParentLevel="true">
						<Layers>
							<Layer level="ARTWORK">
								<FontString parentKey="Name" inherits="Fancy22Font" alpha="0.01" justifyH="LEFT">
									<Anchors>
										<Anchor point="RIGHT" x="-60" y="0"/>
									</Anchors>
									<Color r="1" g=".82" b="0"/>
								</FontString>
							</Layer>
						</Layers>
						<Animations>
							<AnimationGroup parentKey="FadeIn" setToFinalAlpha="true">
								<Alpha childKey="Name" startDelay="0" duration="0.25" order="1" fromAlpha="0" toAlpha="1"/>
							</AnimationGroup>
							<AnimationGroup parentKey="FadeOut" setToFinalAlpha="true">
								<Alpha childKey="Name" startDelay="0" duration="0.25" order="1" fromAlpha="1" toAlpha="0"/>
							</AnimationGroup>
						</Animations>
					</Frame>
					<Frame parentKey="TextFrame" setAllPoints="true" useParentLevel="true">
						<Layers>
							<Layer level="ARTWORK">
								<FontString parentKey="Text" inherits="GameFontHighlightLarge" alpha="0.01" justifyH="LEFT" justifyV="TOP" mixin="ShrinkUntilTruncateFontStringMixin">
									<Anchors>
										<Anchor point="TOPLEFT" relativeKey="$parent.$parent.NameFrame.Name" relativePoint="BOTTOMLEFT" x="0" y="-3"/>
										<Anchor point="BOTTOMRIGHT" x="-42" y="12"/>
									</Anchors>
									<Color r="1" g="1" b="1"/>
								</FontString>
								<FontString parentKey="SpeechProgress" inherits="Fancy22Font" justifyH="RIGHT" justifyV="BOTTOM">
									<Anchors>
										<Anchor point="BOTTOMRIGHT" relativeKey="$parent.$parent.MainFrame" relativePoint="BOTTOMRIGHT" x="-22" y="22"/>
									</Anchors>
								</FontString>
							</Layer>
						</Layers>
						<Animations>
							<AnimationGroup parentKey="FadeIn" setToFinalAlpha="true">
								<Alpha childKey="Text" startDelay="0" duration="0.25" order="1" fromAlpha="0" toAlpha="1"/>
								<Alpha childKey="SpeechProgress" startDelay="0" duration="0.25" order="1" fromAlpha="0" toAlpha="1"/>
							</AnimationGroup>
							<AnimationGroup parentKey="FadeOut" setToFinalAlpha="true">
								<Alpha childKey="Text" startDelay="0" duration="0.25" order="1" fromAlpha="1" toAlpha="0"/>
								<Alpha childKey="SpeechProgress" startDelay="0" duration="0.25" order="1" fromAlpha="1" toAlpha="0"/>
							</AnimationGroup>
						</Animations>
					</Frame>
					<Frame parentKey="BackgroundFrame" setAllPoints="true" useParentLevel="true">
						<Layers>
							<Layer level="BACKGROUND">
								<Texture parentKey="TextBackground" hidden="false" alpha="1" alphaMode="BLEND" atlas="TalkingHeads-TextBackground" useAtlasSize="true"/>
							</Layer>
						</Layers>
						<Animations>
							<AnimationGroup parentKey="FadeIn" setToFinalAlpha="true">
								<Alpha childKey="TextBackground" startDelay="0.4" duration="0.75" order="1" fromAlpha="0" toAlpha="1"/>
							</AnimationGroup>
						</Animations>
					</Frame>
					<Frame parentKey="PortraitFrame" setAllPoints="true">
						<Layers>
							<Layer level="OVERLAY">
								<Texture parentKey="Portrait" hidden="false" alpha="0.01" alphaMode="BLEND" atlas="TalkingHeads-PortraitFrame" useAtlasSize="true">
									<Anchors>
										<Anchor point="TOPLEFT" x="5" y="-6"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Animations>
							<AnimationGroup parentKey="FadeIn" setToFinalAlpha="true">
								<Alpha childKey="Portrait" duration="0.75" order="1" fromAlpha="0" toAlpha="1"/>
							</AnimationGroup>
						</Animations>
					</Frame>
					<Frame parentKey="MainFrame" setAllPoints="true" useParentLevel="true">
						<Layers>
							<Layer level="OVERLAY">
								<Texture parentKey="Indicator">
									<Anchors>
										<Anchor point="TOPRIGHT" x="-42" y="-20"/>
									</Anchors>
								</Texture>
								<Texture parentKey="Sheen" hidden="false" alpha="0.01" alphaMode="ADD" atlas="TalkingHeads-Glow-Sheen" useAtlasSize="true">
									<Anchors>
										<Anchor point="LEFT" relativeKey="$parent.$parent.NameFrame.Name" x="-48"/>
									</Anchors>
								</Texture>
								<Texture parentKey="TextSheen" hidden="false" alpha="0.01" alphaMode="ADD" atlas="TalkingHeads-Glow-TextSheen" useAtlasSize="true">
									<Anchors>
										<Anchor point="LEFT" relativeKey="$parent.$parent.TextFrame.Text" x="-48" y="16"/>
									</Anchors>
								</Texture>
							</Layer>
						</Layers>
						<Frames>
							<PlayerModel parentKey="Model" alpha="0.01" alphaMode="BLEND" >
								<Size x="115" y="115"/>
								<Anchors>
									<Anchor point="TOPLEFT" x="21" y="-21"/>
								</Anchors>
								<Layers>
									<Layer level="BACKGROUND">
										<Texture parentKey="PortraitBG" hidden="false" alphaMode="BLEND" atlas="TalkingHeads-PortraitBg" useAtlasSize="true">
											<Anchors>
												<Anchor point="TOPLEFT"/>
											</Anchors>
										</Texture>
									</Layer>
									<Layer level="ARTWORK" textureSubLevel="-2">
										<Texture parentKey="ModelShadow" atlas="Artifacts-BG-Shadow">
											<Size x="115" y="115"/>
											<Anchors>
												<Anchor point="TOPLEFT"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
							</PlayerModel>
							<Frame parentKey="Overlay">
								<Size x="96" y="96"/>
								<Anchors>
									<Anchor point="TOPLEFT" x="21" y="-17"/>
								</Anchors>
								<Layers>
									<Layer level="OVERLAY" textureSubLevel="1">
										<Texture parentKey="Glow_TopBar" hidden="false" alpha="0.01" alphaMode="ADD" atlas="TalkingHeads-Glow-TopBarGlow" useAtlasSize="true">
											<Anchors>
												<Anchor point="CENTER" relativeKey="$parent.$parent.$parent.PortraitFrame.Portrait" relativePoint="TOP" x="0" y="-11"/>
											</Anchors>
										</Texture>
										<Texture parentKey="Glow_LeftBar" hidden="false" alpha="0.01" alphaMode="ADD" atlas="TalkingHeads-Glow-SideBarGlow" useAtlasSize="true">
											<Anchors>
												<Anchor point="CENTER" relativeKey="$parent.$parent.$parent.PortraitFrame.Portrait" relativePoint="LEFT" x="11" y="25"/>
											</Anchors>
										</Texture>
										<Texture parentKey="Glow_RightBar" hidden="false" alpha="0.01" alphaMode="ADD" atlas="TalkingHeads-Glow-SideBarGlow" useAtlasSize="true">
											<Anchors>
												<Anchor point="CENTER" relativeKey="$parent.$parent.$parent.PortraitFrame.Portrait" relativePoint="RIGHT" x="-11" y="25"/>
											</Anchors>
										</Texture>
									</Layer>
								</Layers>
							</Frame>
							<Button parentKey="CloseButton" inherits="UIPanelCloseButtonNoScripts" alphaMode="BLEND">
								<Anchors>
									<Anchor point="TOPRIGHT" x="-12" y="-12"/>
								</Anchors>
								<Scripts>
									<OnClick>
										self:GetParent():GetParent():GetParent():ForceClose();
									</OnClick>
								</Scripts>
							</Button>
						</Frames>
						<Animations>
							<AnimationGroup parentKey="InAnim" setToFinalAlpha="true">
								<Alpha childKey="Overlay.Glow_TopBar" startDelay="0.15" duration="0.25" order="1" fromAlpha="0" toAlpha="0.7"/>
								<Scale childKey="Overlay.Glow_TopBar" startDelay="0.15" duration="0.25" order="1" fromScaleX="0.25" fromScaleY="1" toScaleX="1.5" toScaleY="1"/>
								<Alpha childKey="Overlay.Glow_TopBar" startDelay="0.4" duration="0.5" order="1" fromAlpha="0.7" toAlpha="0"/>
								<Alpha childKey="Overlay.Glow_LeftBar" startDelay="0.35" duration="0.25" order="1" fromAlpha="0" toAlpha="0.7"/>
								<Translation childKey="Overlay.Glow_LeftBar" startDelay="0.35" duration="0.8" order="1" offsetX="0" offsetY="-10"/>
								<Scale childKey="Overlay.Glow_LeftBar" startDelay="0.35" duration="0.7" order="1" fromScaleX="1" fromScaleY="0.5" toScaleX="1" toScaleY="1.6">
									<Origin point="TOP">
										<Offset x="0" y="0"/>
									</Origin>
								</Scale>
								<Alpha childKey="Overlay.Glow_LeftBar" startDelay="0.85" duration="0.25" order="1" fromAlpha="0.7" toAlpha="0"/>
								<Alpha childKey="Overlay.Glow_RightBar" startDelay="0.35" duration="0.25" order="1" fromAlpha="0" toAlpha="0.7"/>
								<Translation childKey="Overlay.Glow_RightBar" startDelay="0.35" duration="0.8" order="1" offsetX="0" offsetY="-10"/>
								<Scale childKey="Overlay.Glow_RightBar" startDelay="0.35" duration="0.7" order="1" fromScaleX="1" fromScaleY="0.5" toScaleX="1" toScaleY="1.6">
									<Origin point="TOP">
										<Offset x="0" y="0"/>
									</Origin>
								</Scale>
								<Alpha childKey="Overlay.Glow_RightBar" startDelay="0.95" duration="0.25" order="1" fromAlpha="0.7" toAlpha="0"/>
								<Alpha childKey="Sheen" startDelay="0.5" duration="0.5" order="1" fromAlpha="0" toAlpha="0.7"/>
								<Scale childKey="Sheen" startDelay="0.5" duration="0.25" order="1" fromScaleX="0.25" fromScaleY="1" toScaleX="1" toScaleY="1">
									<Origin point="LEFT">
										<Offset x="0" y="0"/>
									</Origin>
								</Scale>
								<Alpha childKey="Sheen" startDelay="1" duration="0.5" order="1" fromAlpha="0.7" toAlpha="0"/>
								<Alpha childKey="TextSheen" startDelay="0.75" duration="0.5" order="1" fromAlpha="0" toAlpha="0.7"/>
								<Scale childKey="TextSheen" startDelay="0.75" duration="0.25" order="1" fromScaleX="0.25" fromScaleY="1" toScaleX="1" toScaleY="1">
									<Origin point="LEFT">
										<Offset x="0" y="0"/>
									</Origin>
								</Scale>
								<Alpha childKey="TextSheen" startDelay="1.25" duration="0.5" order="1" fromAlpha="0.7" toAlpha="0"/>
								<Alpha childKey="Model" duration="0.75" order="1" fromAlpha="0" toAlpha="1"/>
								<Alpha childKey="Model.PortraitBg" duration="0.75" order="1" fromAlpha="0" toAlpha="1"/>
								<Alpha childKey="Indicator" duration="0.75" order="1" fromAlpha="0" toAlpha="1"/>
							</AnimationGroup>
						</Animations>
					</Frame>
				</Frames>
			</Button>
		</Frames>
	</Frame>

</Ui>